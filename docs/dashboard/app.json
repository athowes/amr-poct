[{"name":"app.R","content":"library(shiny)\n\nsource(\"functions.R\")\n\nui <- fluidPage(\n  titlePanel(\"CEA for an AMR point-of-care test\"),\n  sidebarLayout(\n    sidebarPanel(\n      numericInput(inputId = \"sensitivity\",\n                        label = \"Sensitivity:\",\n                        value = 0.9,\n                        min = 0,\n                        max = 1,\n                        step = 0.01),\n      numericInput(inputId = \"specificity\",\n                        label = \"Specificity:\",\n                        value = 0.95,\n                        min = 0,\n                        max = 1,\n                        step = 0.01),\n      numericInput(inputId = \"amr_burden_per_abx\",\n                        label = \"AMR burden per antibiotic:\",\n                        value = 0.3,\n                        min = 0,\n                        step = 0.01)\n    ),\n    mainPanel(\n      htmlOutput(outputId = \"ceaOutput\")\n    )\n  )\n)\n\nserver <- function(input, output) {\n  output$ceaOutput <- renderText({\n    out <- run_cea(input$sensitivity, input$specificity, input$amr_burden_per_abx)\n    text <- paste0(\n      \"Incremental cost: $\", round(out$cost_incremental), \"<br>\",\n      \"Incremental benefit: \", round(out$benefit_incremental), \" DALYs <br>\",\n      \"Incremental cost effectiveness ratio: \", round(out$icer, 2), \"<br>\",\n      \"DALYs per dollar: \", round(1 / out$icer, 4), \"<br>\"\n    )\n    return(text)\n  })\n}\n\nshinyApp(ui = ui, server = server)\n","type":"text"},{"name":"DESCRIPTION","content":"Title: Hello Shiny!\nAuthor: RStudio, Inc.\nAuthorUrl: http://www.rstudio.com/\nLicense: MIT\nDisplayMode: Showcase\nTags: getting-started\nType: Shiny\n","type":"text"}]
